<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Censo IBGE - População de Contagem MG - Distrito Sanitário Eldorado</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header-section">
            <a href="https://app.powerbi.com/view?r=eyJrIjoiZTlkOWNhODEtNmU3Ny00OWJiLTkxOGYtM2Q4YzEwZjRlNTRkIiwidCI6ImFlODYzMzdlLTU3NWUtNDMzMC05NDc2LTkzZGU2ODJiMDAyMCJ9" 
               class="btn-power-bi" target="_blank">
                <i class="fas fa-chart-line"></i> Relatórios Detalhado BI
            </a>
            <div class="header-content">
                <h1 class="main-title">Censo IBGE</h1>
                <p class="subtitle">População de Contagem MG - Distrito Sanitário Eldorado</p>
                <div class="signature">
                    Página Criada por Ana P. A. Silva Matr.201704/Ref. Vivver/Distrito Eldorado
                </div>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters-section">
            <h3 class="mb-4"><i class="fas fa-filter"></i> Filtros de Dados</h3>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="filter-group">
                    <label class="filter-label">Unidade de Saúde (Distrito Eldorado)</label>
                    <select class="filter-select" id="ubsFilter">
                        <option value="">Todas as Unidades</option>
                        <option value="Água Branca">Água Branca</option>
                        <option value="Bela Vista">Bela Vista</option>
                        <option value="CSU Eldorado">CSU Eldorado</option>
                        <option value="Jardim Bandeirantes">Jardim Bandeirantes</option>
                        <option value="Jardim Eldorado">Jardim Eldorado</option>
                        <option value="Novo Eldorado">Novo Eldorado</option>
                        <option value="Parque São João">Parque São João</option>
                        <option value="Perobas">Perobas</option>
                        <option value="Santa Cruz">Santa Cruz</option>
                        <option value="Unidade XV">Unidade XV</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Índice de Vulnerabilidade/2021</label>
                    <select class="filter-select" id="vulnerabilityFilter">
                        <option value="">Todos os Índices</option>
                        <option value="Baixa">Baixa</option>
                        <option value="Média">Média</option>
                        <option value="Elevada">Elevada</option>
                        <option value="Muito Elevada">Muito Elevada</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Faixa Etária Censo 2021</label>
                    <select class="filter-select" id="ageGroupFilter">
                        <option value="">Todas as Faixas</option>
                        <option value="0 a 4 anos">0 a 4 anos</option>
                        <option value="5 a 11 anos">5 a 11 anos</option>
                        <option value="12 a 17 anos">12 a 17 anos</option>
                        <option value="18 a 29 anos">18 a 29 anos</option>
                        <option value="30 a 59 anos">30 a 59 anos</option>
                        <option value="60 anos ou mais">60 anos ou mais</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Distrito</label>
                    <select class="filter-select" id="districtFilter">
                        <option value="">Todos os Distritos</option>
                        <option value="ELDORADO">Eldorado</option>
                        <option value="RESSACA">Ressaca</option>
                        <option value="SEDE">Sede</option>
                        <option value="INDUSTRIAL">Industrial</option>
                        <option value="RIACHO">Riacho</option>
                        <option value="NACIONAL">Nacional</option>
                        <option value="VARGEM_DAS_FLORES">Vargem das Flores</option>
                        <option value="PETROLANDIA">Petrolândia</option>
                    </select>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn-action btn-clear" onclick="clearFilters()">
                    <i class="fas fa-eraser"></i> Limpar Filtros
                </button>
                <button class="btn-action btn-download" onclick="downloadExcel()">
                    <i class="fas fa-download"></i> Baixar Excel
                </button>
            </div>
        </div>

        <!-- Estatísticas Gerais -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-number" id="eldoradoPopulation">...</div>
                <div class="stat-label">Pop. Distrito Eldorado/2022 (Filtro Unidade)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalPopulation">...</div>
                <div class="stat-label">População Total do Município (2022)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalUBS">...</div>
                <div class="stat-label">Unidades no Distrito</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalDistricts">...</div>
                <div class="stat-label">Distritos</div>
            </div>
        </div>

        <!-- Gráficos -->
        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">População por Faixa Etária (2021)</div>
                <div class="chart-wrapper">
                    <canvas id="ageGroupChart"></canvas>
                </div>
                <div class="custom-legend" id="ageGroupLegend"></div>
            </div>
            <div class="chart-container">
                <div class="chart-title">Vulnerabilidade por Unidade (2021)</div>
                <div class="chart-wrapper">
                    <canvas id="vulnerabilityChart"></canvas>
                </div>
                <div class="custom-legend" id="vulnerabilityLegend"></div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">População por Unidade (2022)</div>
                <div class="chart-wrapper">
                    <canvas id="ubsChart"></canvas>
                </div>
                <div class="custom-legend" id="ubsLegend"></div>
            </div>
            <div class="chart-container">
                <div class="chart-title">População por Distrito (2010 vs 2022)</div>
                <div class="chart-wrapper">
                    <canvas id="historicalChart"></canvas>
                </div>
                <div class="custom-legend" id="historicalLegend"></div>
            </div>
        </div>

        <!-- NOVO GRÁFICO: População por Distrito (Censo 2021) -->
        <div class="charts-grid">
            <div class="chart-container chart-full-width">
                <div class="chart-title">População por Distrito - Censo 2021 (Dados Detalhados por Faixa Etária)</div>
                <div class="chart-wrapper chart-large">
                    <canvas id="districtCensusChart"></canvas>
                </div>
                <div class="custom-legend" id="districtCensusLegend"></div>
            </div>
        </div>

        <!-- Tabela: População por Distrito 2010-2022 -->
        <div class="data-table">
            <div class="table-header">
                <i class="fas fa-table"></i> População por Distrito - Comparativo 2010 vs 2022
            </div>
            <div class="table-content">
                <table class="table" id="districtTable">
                    <thead>
                        <tr>
                            <th>Distrito</th>
                            <th>População 2010</th>
                            <th>População 2022</th>
                            <th>Crescimento</th>
                            <th>% Crescimento</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Conteúdo gerado pelo script.js -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- NOVA TABELA: Dados Detalhados do Censo 2021 por Distrito -->
        <div class="data-table">
            <div class="table-header">
                <i class="fas fa-users"></i> Censo 2021 - População por Faixa Etária e Distrito
            </div>
            <div class="table-content">
                <div class="table-controls">
                    <div class="search-box">
                        <input type="text" id="censusTableSearch" placeholder="Buscar faixa etária..." class="search-input">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table class="table" id="censusTable">
                        <thead>
                            <tr>
                                <th class="sticky-column">Faixa Etária</th>
                                <th>Eldorado</th>
                                <th>Ressaca</th>
                                <th>Sede</th>
                                <th>Industrial</th>
                                <th>Riacho</th>
                                <th>Nacional</th>
                                <th>Vargem das Flores</th>
                                <th>Petrolândia</th>
                                <th class="total-column">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Conteúdo gerado pelo script.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tabela UBS Eldorado -->
        <div class="data-table">
            <div class="table-header">
                <i class="fas fa-hospital"></i> Unidades de Saúde do Distrito Eldorado - Dados Populacionais
            </div>
            <div class="table-content">
                <table class="table" id="ubsTable">
                    <thead>
                        <tr>
                            <th>Unidade</th>
                            <th>População Cadastrada</th>
                            <th>Vulnerabilidade Predominante</th>
                            <th>Faixa Etária Majoritária</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Conteúdo gerado pelo script.js -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>

